name: Production Deploy (placeholder)

on:
  workflow_dispatch:

permissions:
  contents: read

jobs:
  noop:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "Production deploy workflow is scaffolded. Configure secrets and replace this placeholder with real migration+deploy steps.";
          echo "See docs/DEPLOYMENT_OPS.md and docs/PRODUCTION_MIGRATION_STRATEGY.md for guidance.";

  # -------------------------------------------------------------------------
  # Example real job (commented out to keep repo lint-safe until secrets exist)
  # -------------------------------------------------------------------------
  # deploy:
  #   name: Migrate DB and Deploy to Vercel (production)
  #   runs-on: ubuntu-latest
  #   environment:
  #     name: production
  #   steps:
  #     - uses: actions/checkout@v4
  #     - uses: actions/setup-node@v4
  #       with:
  #         node-version: 20
  #         cache: 'npm'
  #     - name: Install dependencies
  #       run: npm ci
  #     - name: Migrations
  #       env:
  #         DATABASE_URL: ${{ secrets.PROD_DATABASE_URL }}
  #       run: |
  #         npx prisma migrate status --schema=./prisma/schema.prisma
  #         npx prisma migrate deploy --schema=./prisma/schema.prisma
  #     - name: Build
  #       run: npm run build --silent
  #     - name: Vercel deploy (prod)
  #       env:
  #         VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
  #         VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
  #         VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
  #       run: |
  #         npx vercel pull --yes --environment=production --token "$VERCEL_TOKEN"
  #         npx vercel build --prod --token "$VERCEL_TOKEN"
  #         npx vercel deploy --prebuilt --prod --token "$VERCEL_TOKEN"
